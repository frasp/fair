/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/**
     * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
     * Available via the MIT or new BSD license.
     * see: http://github.com/jrburke/almond for details
     */

/**
        * almond 0.2.0 Copyright (c) 2011, The Dojo Foundation All Rights Reserved.
        * Available via the MIT or new BSD license.
        * see: http://github.com/jrburke/almond for details
        */

/*!
        * Globalize
        *
        * http://github.com/jquery/globalize
        *
        * Copyright Software Freedom Conservancy, Inc.
        * Dual licensed under the MIT or GPL Version 2 licenses.
        * http://jquery.org/license
        */

/*
        * Globalize Culture fr
        *
        * http://github.com/jquery/globalize
        *
        * Copyright Software Freedom Conservancy, Inc.
        * Dual licensed under the MIT or GPL Version 2 licenses.
        * http://jquery.org/license
        *
        * This file was generated by the Globalize Culture Generator
        * Translation: bugs found in this file need to be fixed in the generator
        */

!function(e,a){"function"==typeof define&&define.amd?define(a):e.angularValidation=a()}(this,function(){var e,a,r;return function(t){function n(e,a){return F.call(e,a)}function i(e,a){var r,t,n,i,s,l,u,o,d,f,c,g=a&&a.split("/"),v=y.map,p=v&&v["*"]||{};if(e&&"."===e.charAt(0))if(a){for(g=g.slice(0,g.length-1),e=e.split("/"),s=e.length-1,y.nodeIdCompat&&M.test(e[s])&&(e[s]=e[s].replace(M,"")),e=g.concat(e),d=0;d<e.length;d+=1)if(c=e[d],"."===c)e.splice(d,1),d-=1;else if(".."===c){if(1===d&&(".."===e[2]||".."===e[0]))break;d>0&&(e.splice(d-1,2),d-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((g||p)&&v){for(r=e.split("/"),d=r.length;d>0;d-=1){if(t=r.slice(0,d).join("/"),g)for(f=g.length;f>0;f-=1)if(n=v[g.slice(0,f).join("/")],n&&(n=n[t])){i=n,l=d;break}if(i)break;!u&&p&&p[t]&&(u=p[t],o=d)}!i&&u&&(i=u,l=o),i&&(r.splice(0,l,i),e=r.join("/"))}return e}function s(e,a){return function(){return g.apply(t,$.call(arguments,0).concat([e,a]))}}function l(e){return function(a){return i(a,e)}}function u(e){return function(a){m[e]=a}}function o(e){if(n(h,e)){var a=h[e];delete h[e],b[e]=!0,c.apply(t,a)}if(!n(m,e)&&!n(b,e))throw new Error("No "+e);return m[e]}function d(e){var a,r=e?e.indexOf("!"):-1;return r>-1&&(a=e.substring(0,r),e=e.substring(r+1,e.length)),[a,e]}function f(e){return function(){return y&&y.config&&y.config[e]||{}}}var c,g,v,p,m={},h={},y={},b={},F=Object.prototype.hasOwnProperty,$=[].slice,M=/\.js$/;v=function(e,a){var r,t=d(e),n=t[0];return e=t[1],n&&(n=i(n,a),r=o(n)),n?e=r&&r.normalize?r.normalize(e,l(a)):i(e,a):(e=i(e,a),t=d(e),n=t[0],e=t[1],n&&(r=o(n))),{f:n?n+"!"+e:e,n:e,pr:n,p:r}},p={require:function(e){return s(e)},exports:function(e){var a=m[e];return"undefined"!=typeof a?a:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:f(e)}}},c=function(e,a,r,i){var l,d,f,c,g,y,F=[],$=typeof r;if(i=i||e,"undefined"===$||"function"===$){for(a=!a.length&&r.length?["require","exports","module"]:a,g=0;g<a.length;g+=1)if(c=v(a[g],i),d=c.f,"require"===d)F[g]=p.require(e);else if("exports"===d)F[g]=p.exports(e),y=!0;else if("module"===d)l=F[g]=p.module(e);else if(n(m,d)||n(h,d)||n(b,d))F[g]=o(d);else{if(!c.p)throw new Error(e+" missing "+d);c.p.load(c.n,s(i,!0),u(d),{}),F[g]=m[d]}f=r?r.apply(m[e],F):void 0,e&&(l&&l.exports!==t&&l.exports!==m[e]?m[e]=l.exports:f===t&&y||(m[e]=f))}else e&&(m[e]=r)},e=a=g=function(e,a,r,n,i){if("string"==typeof e)return p[e]?p[e](a):o(v(e,a).f);if(!e.splice){if(y=e,y.deps&&g(y.deps,y.callback),!a)return;a.splice?(e=a,a=r,r=null):e=t}return a=a||function(){},"function"==typeof r&&(r=n,n=i),n?c(t,e,a,r):setTimeout(function(){c(t,e,a,r)},4),g},g.config=function(e){return g(e)},e._defined=m,r=function(e,a,r){a.splice||(r=a,a=[]),n(m,e)||n(h,e)||(h[e]=[e,a,r])},r.amd={jQuery:!0}}(),r("axa/amd/almond-custom",function(){}),function(){var e,a,r;!function(t){function n(e,a){return F.call(e,a)}function i(e,a){var r,t,n,i,s,l,u,o,d,f,c,g=a&&a.split("/"),v=y.map,p=v&&v["*"]||{};if(e&&"."===e.charAt(0))if(a){for(g=g.slice(0,g.length-1),e=e.split("/"),s=e.length-1,y.nodeIdCompat&&M.test(e[s])&&(e[s]=e[s].replace(M,"")),e=g.concat(e),d=0;d<e.length;d+=1)if(c=e[d],"."===c)e.splice(d,1),d-=1;else if(".."===c){if(1===d&&(".."===e[2]||".."===e[0]))break;d>0&&(e.splice(d-1,2),d-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((g||p)&&v){for(r=e.split("/"),d=r.length;d>0;d-=1){if(t=r.slice(0,d).join("/"),g)for(f=g.length;f>0;f-=1)if(n=v[g.slice(0,f).join("/")],n&&(n=n[t])){i=n,l=d;break}if(i)break;!u&&p&&p[t]&&(u=p[t],o=d)}!i&&u&&(i=u,l=o),i&&(r.splice(0,l,i),e=r.join("/"))}return e}function s(e,a){return function(){return g.apply(t,$.call(arguments,0).concat([e,a]))}}function l(e){return function(a){return i(a,e)}}function u(e){return function(a){m[e]=a}}function o(e){if(n(h,e)){var a=h[e];delete h[e],b[e]=!0,c.apply(t,a)}if(!n(m,e)&&!n(b,e))throw new Error("No "+e);return m[e]}function d(e){var a,r=e?e.indexOf("!"):-1;return r>-1&&(a=e.substring(0,r),e=e.substring(r+1,e.length)),[a,e]}function f(e){return function(){return y&&y.config&&y.config[e]||{}}}var c,g,v,p,m={},h={},y={},b={},F=Object.prototype.hasOwnProperty,$=[].slice,M=/\.js$/;v=function(e,a){var r,t=d(e),n=t[0];return e=t[1],n&&(n=i(n,a),r=o(n)),n?e=r&&r.normalize?r.normalize(e,l(a)):i(e,a):(e=i(e,a),t=d(e),n=t[0],e=t[1],n&&(r=o(n))),{f:n?n+"!"+e:e,n:e,pr:n,p:r}},p={require:function(e){return s(e)},exports:function(e){var a=m[e];return"undefined"!=typeof a?a:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:f(e)}}},c=function(e,a,r,i){var l,d,f,c,g,y,F=[],$=typeof r;if(i=i||e,"undefined"===$||"function"===$){for(a=!a.length&&r.length?["require","exports","module"]:a,g=0;g<a.length;g+=1)if(c=v(a[g],i),d=c.f,"require"===d)F[g]=p.require(e);else if("exports"===d)F[g]=p.exports(e),y=!0;else if("module"===d)l=F[g]=p.module(e);else if(n(m,d)||n(h,d)||n(b,d))F[g]=o(d);else{if(!c.p)throw new Error(e+" missing "+d);c.p.load(c.n,s(i,!0),u(d),{}),F[g]=m[d]}f=r?r.apply(m[e],F):void 0,e&&(l&&l.exports!==t&&l.exports!==m[e]?m[e]=l.exports:f===t&&y||(m[e]=f))}else e&&(m[e]=r)},e=a=g=function(e,a,r,n,i){if("string"==typeof e)return p[e]?p[e](a):o(v(e,a).f);if(!e.splice){if(y=e,y.deps&&g(y.deps,y.callback),!a)return;a.splice?(e=a,a=r,r=null):e=t}return a=a||function(){},"function"==typeof r&&(r=n,n=i),n?c(t,e,a,r):setTimeout(function(){c(t,e,a,r)},4),g},g.config=function(e){return g(e)},e._defined=m,r=function(e,a,r){a.splice||(r=a,a=[]),n(m,e)||n(h,e)||(h[e]=[e,a,r])},r.amd={jQuery:!0}}(),r("axa/amd/almond-custom",function(){}),function(){function e(e){if(!e)return!0;var a=/^(\d{4})[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])(T.*)?$/,r=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-](\d{4})$/,t=e.match(a),n={day:3,month:2,year:1};if(!t){if(t=e.match(r),!t)return!1;n={day:1,month:2,year:3}}var i=parseInt(t[n.day],10),s=parseInt(t[n.month],10)-1,l=parseInt(t[n.year],10),u=new Date(l,s,i,0,0,0,0);return u.getDate()===i&&u.getMonth()===s&&u.getFullYear()===l}var a,r,t;!function(e){function n(e,a){var r,t,n,i,s,l,u,o,d,f,c=a&&a.split("/"),g=y.map,v=g&&g["*"]||{};if(e&&"."===e.charAt(0)&&a){for(c=c.slice(0,c.length-1),e=c.concat(e.split("/")),o=0;o<e.length;o+=1)if(f=e[o],"."===f)e.splice(o,1),o-=1;else if(".."===f){if(1===o&&(".."===e[2]||".."===e[0]))break;o>0&&(e.splice(o-1,2),o-=2)}e=e.join("/")}if((c||v)&&g){for(r=e.split("/"),o=r.length;o>0;o-=1){if(t=r.slice(0,o).join("/"),c)for(d=c.length;d>0;d-=1)if(n=g[c.slice(0,d).join("/")],n&&(n=n[t])){i=n,s=o;break}if(i)break;!l&&v&&v[t]&&(l=v[t],u=o)}!i&&l&&(i=l,s=u),i&&(r.splice(0,s,i),e=r.join("/"))}return e}function i(a,r){return function(){return g.apply(e,F.call(arguments,0).concat([a,r]))}}function s(e){return function(a){return n(a,e)}}function l(e){return function(a){m[e]=a}}function u(a){if(h.hasOwnProperty(a)){var r=h[a];delete h[a],b[a]=!0,c.apply(e,r)}if(!m.hasOwnProperty(a)&&!b.hasOwnProperty(a))throw new Error("No "+a);return m[a]}function o(e){var a,r=e?e.indexOf("!"):-1;return r>-1&&(a=e.substring(0,r),e=e.substring(r+1,e.length)),[a,e]}function d(e,r,t){a.onResourceLoad&&e&&a.onResourceLoad({defined:r},{id:e},t)}function f(e){return function(){return y&&y.config&&y.config[e]||{}}}var c,g,v,p,m={},h={},y={},b={},F=[].slice;v=function(e,a){var r,t=o(e),i=t[0];return e=t[1],i&&(i=n(i,a),r=u(i)),i?e=r&&r.normalize?r.normalize(e,s(a)):n(e,a):(e=n(e,a),t=o(e),i=t[0],e=t[1],i&&(r=u(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:r}},p={require:function(e){return i(e)},exports:function(e){var a=m[e];return"undefined"!=typeof a?a:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:f(e)}}},c=function(a,r,t,n){var s,o,f,c,g,y,F=[];if(n=n||a,"function"==typeof t){for(r=!r.length&&t.length?["require","exports","module"]:r,g=0;g<r.length;g+=1)if(c=v(r[g],n),o=c.f,"require"===o)F[g]=p.require(a);else if("exports"===o)F[g]=p.exports(a),y=!0;else if("module"===o)s=F[g]=p.module(a);else if(m.hasOwnProperty(o)||h.hasOwnProperty(o)||b.hasOwnProperty(o))F[g]=u(o);else{if(!c.p)throw new Error(a+" missing "+o);c.p.load(c.n,i(n,!0),l(o),{}),F[g]=m[o]}f=t.apply(m[a],F),a&&(s&&s.exports!==e&&s.exports!==m[a]?m[a]=s.exports:f===e&&y||(m[a]=f))}else a&&(m[a]=t);d(a,m,F)},a=r=g=function(a,r,t,n,i){return"string"==typeof a?p[a]?p[a](r):u(v(a,r).f):(a.splice||(y=a,r.splice?(a=r,r=t,t=null):a=e),r=r||function(){},"function"==typeof t&&(t=n,n=i),n?c(e,a,r,t):setTimeout(function(){c(e,a,r,t)},15),g)},g.config=function(e){return y=e,g},t=function(e,a,r){a.splice||(r=a,a=[]),h[e]=[e,a,r]},t.amd={jQuery:!0}}(),function(e,a){var t,n,i,s,l,u,o,d,f,c,g,v,p,m,h,y,b,F,$,M,D,E,C,V;t=function(e){return new t.prototype.init(e)},"undefined"!=typeof r&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=t:e.Globalize=t,t.cultures={},t.prototype={constructor:t,init:function(e){return this.cultures=t.cultures,this.cultureSelector=e,this}},t.prototype.init.prototype=t.prototype,t.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},t.cultures["default"].calendar=t.cultures["default"].calendars.standard,t.cultures.en=t.cultures["default"],t.cultureSelector="en",n=/^0x[a-f0-9]+$/i,i=/^[+\-]?infinity$/i,s=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,l=/^\s+|\s+$/g,u=function(e,a){if(e.indexOf)return e.indexOf(a);for(var r=0,t=e.length;t>r;r++)if(e[r]===a)return r;return-1},o=function(e,a){return e.substr(e.length-a.length)===a},d=function(){var e,r,t,n,i,s,l=arguments[0]||{},u=1,o=arguments.length,v=!1;for("boolean"==typeof l&&(v=l,l=arguments[1]||{},u=2),"object"==typeof l||c(l)||(l={});o>u;u++)if(null!=(e=arguments[u]))for(r in e)t=l[r],n=e[r],l!==n&&(v&&n&&(g(n)||(i=f(n)))?(i?(i=!1,s=t&&f(t)?t:[]):s=t&&g(t)?t:{},l[r]=d(v,s,n)):n!==a&&(l[r]=n));return l},f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e){return"[object Function]"===Object.prototype.toString.call(e)},g=function(e){return"[object Object]"===Object.prototype.toString.call(e)},v=function(e,a){return 0===e.indexOf(a)},p=function(e){return(e+"").replace(l,"")},m=function(e){return isNaN(e)?0/0:Math[0>e?"ceil":"floor"](e)},h=function(e,a,r){var t;for(t=e.length;a>t;t+=1)e=r?"0"+e:e+"0";return e},y=function(e,a){for(var r=0,t=!1,n=0,i=e.length;i>n;n++){var s=e.charAt(n);switch(s){case"'":t?a.push("'"):r++,t=!1;break;case"\\":t&&a.push("\\"),t=!t;break;default:a.push(s),t=!1}}return r},b=function(e,a){a=a||"F";var r,t=e.patterns,n=a.length;if(1===n){if(r=t[a],!r)throw"Invalid date format string '"+a+"'.";a=r}else 2===n&&"%"===a.charAt(0)&&(a=a.charAt(1));return a},F=function(e,a,r){function t(e,a){var r,t=e+"";return a>1&&t.length<a?(r=h[a-2]+t,r.substr(r.length-a,a)):r=t}function n(){return v||p?v:(v=$.test(a),p=!0,v)}function i(e,a){if(m)return m[a];switch(a){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+a}}var s,l=r.calendar,u=l.convert;if(!a||!a.length||"i"===a){if(r&&r.name.length)if(u)s=F(e,l.patterns.F,r);else{var o=new Date(e.getTime()),d=D(e,l.eras);o.setFullYear(E(e,l,d)),s=o.toLocaleString()}else s=e.toString();return s}var f=l.eras,c="s"===a;a=b(l,a),s=[];var g,v,p,m,h=["0","00","000"],$=/([^d]|^)(d|dd)([^d]|$)/g,C=0,V=M();for(!c&&u&&(m=u.fromGregorian(e));;){var x=V.lastIndex,w=V.exec(a),A=a.slice(x,w?w.index:a.length);if(C+=y(A,s),!w)break;if(C%2)s.push(w[0]);else{var P=w[0],z=P.length;switch(P){case"ddd":case"dddd":var I=3===z?l.days.namesAbbr:l.days.names;s.push(I[e.getDay()]);break;case"d":case"dd":v=!0,s.push(t(i(e,2),z));break;case"MMM":case"MMMM":var N=i(e,1);s.push(l.monthsGenitive&&n()?l.monthsGenitive[3===z?"namesAbbr":"names"][N]:l.months[3===z?"namesAbbr":"names"][N]);break;case"M":case"MM":s.push(t(i(e,1)+1,z));break;case"y":case"yy":case"yyyy":N=m?m[0]:E(e,l,D(e,f),c),4>z&&(N%=100),s.push(t(N,z));break;case"h":case"hh":g=e.getHours()%12,0===g&&(g=12),s.push(t(g,z));break;case"H":case"HH":s.push(t(e.getHours(),z));break;case"m":case"mm":s.push(t(e.getMinutes(),z));break;case"s":case"ss":s.push(t(e.getSeconds(),z));break;case"t":case"tt":N=e.getHours()<12?l.AM?l.AM[0]:" ":l.PM?l.PM[0]:" ",s.push(1===z?N.charAt(0):N);break;case"f":case"ff":case"fff":s.push(t(e.getMilliseconds(),3).substr(0,z));break;case"z":case"zz":g=e.getTimezoneOffset()/60,s.push((0>=g?"+":"-")+t(Math.floor(Math.abs(g)),z));break;case"zzz":g=e.getTimezoneOffset()/60,s.push((0>=g?"+":"-")+t(Math.floor(Math.abs(g)),2)+":"+t(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":l.eras&&s.push(l.eras[D(e,f)].name);break;case"/":s.push(l["/"]);break;default:throw"Invalid date format pattern '"+P+"'."}}}return s.join("")},function(){var e;e=function(e,a,r){var t=r.groupSizes,n=t[0],i=1,s=Math.pow(10,a),l=Math.round(e*s)/s;isFinite(l)||(l=e),e=l;var u=e+"",o="",d=u.split(/e/i),f=d.length>1?parseInt(d[1],10):0;u=d[0],d=u.split("."),u=d[0],o=d.length>1?d[1]:"",f>0?(o=h(o,f,!1),u+=o.slice(0,f),o=o.substr(f)):0>f&&(f=-f,u=h(u,f+1,!0),o=u.slice(-f,u.length)+o,u=u.slice(0,-f)),o=a>0?r["."]+(o.length>a?o.slice(0,a):h(o,a)):"";for(var c=u.length-1,g=r[","],v="";c>=0;){if(0===n||n>c)return u.slice(0,c+1)+(v.length?g+v+o:o);v=u.slice(c-n+1,c+1)+(v.length?g+v:""),c-=n,i<t.length&&(n=t[i],i++)}return u.slice(0,c+1)+g+v+o},$=function(a,r,t){if(!isFinite(a))return 1/0===a?t.numberFormat.positiveInfinity:a===-1/0?t.numberFormat.negativeInfinity:t.numberFormat.NaN;if(!r||"i"===r)return t.name.length?a.toLocaleString():a.toString();r=r||"D";var n,i=t.numberFormat,s=Math.abs(a),l=-1;r.length>1&&(l=parseInt(r.slice(1),10));var u,o=r.charAt(0).toUpperCase();switch(o){case"D":n="n",s=m(s),-1!==l&&(s=h(""+s,l,!0)),0>a&&(s="-"+s);break;case"N":u=i;case"C":u=u||i.currency;case"P":u=u||i.percent,n=0>a?u.pattern[0]:u.pattern[1]||"n",-1===l&&(l=u.decimals),s=e(s*("P"===o?100:1),l,u);break;default:throw"Bad number format specifier: "+o}for(var d=/n|\$|-|%/g,f="";;){var c=d.lastIndex,g=d.exec(n);if(f+=n.slice(c,g?g.index:n.length),!g)break;switch(g[0]){case"n":f+=s;break;case"$":f+=i.currency.symbol;break;case"-":/[1-9]/.test(s)&&(f+=i["-"]);break;case"%":f+=i.percent.symbol}}return f}}(),M=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},D=function(e,a){if(!a)return 0;for(var r,t=e.getTime(),n=0,i=a.length;i>n;n++)if(r=a[n].start,null===r||t>=r)return n;return 0},E=function(e,a,r,t){var n=e.getFullYear();return!t&&a.eras&&(n-=a.eras[r].offset),n},function(){var e,a,r,t,n,i,s;e=function(e,a){if(100>a){var r=new Date,t=D(r),n=E(r,e,t),i=e.twoDigitYearMax;i="string"==typeof i?(new Date).getFullYear()%100+parseInt(i,10):i,a+=n-n%100,a>i&&(a-=100)}return a},a=function(e,a,r){var t,n=e.days,l=e._upperDays;return l||(e._upperDays=l=[s(n.names),s(n.namesAbbr),s(n.namesShort)]),a=i(a),r?(t=u(l[1],a),-1===t&&(t=u(l[2],a))):t=u(l[0],a),t},r=function(e,a,r){var t=e.months,n=e.monthsGenitive||e.months,l=e._upperMonths,o=e._upperMonthsGen;l||(e._upperMonths=l=[s(t.names),s(t.namesAbbr)],e._upperMonthsGen=o=[s(n.names),s(n.namesAbbr)]),a=i(a);var d=u(r?l[1]:l[0],a);return 0>d&&(d=u(r?o[1]:o[0],a)),d},t=function(e,a){var r=e._parseRegExp;if(r){var t=r[a];if(t)return t}else e._parseRegExp=r={};for(var n,i=b(e,a).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],l=[],u=0,o=0,d=M();null!==(n=d.exec(i));){var f=i.slice(u,n.index);if(u=d.lastIndex,o+=y(f,s),o%2)s.push(n[0]);else{var c,g=n[0],v=g.length;switch(g){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":c="(\\D+)";break;case"tt":case"t":c="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":c="(\\d{"+v+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":c="(\\d\\d?)";break;case"zzz":c="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":c="([+-]?\\d\\d?)";break;case"/":c="(\\/)";break;default:throw"Invalid date format pattern '"+g+"'."}c&&s.push(c),l.push(n[0])}}y(i.slice(u),s),s.push("$");var p=s.join("").replace(/\s+/g,"\\s+"),m={regExp:p,groups:l};return r[a]=m},n=function(e,a,r){return a>e||e>r},i=function(e){return e.split(" ").join(" ").toUpperCase()},s=function(e){for(var a=[],r=0,t=e.length;t>r;r++)a[r]=i(e[r]);return a},C=function(i,s,l){i=p(i);var u=l.calendar,o=t(u,s),d=new RegExp(o.regExp).exec(i);if(null===d)return null;for(var f,c=o.groups,g=null,m=null,h=null,y=null,b=null,F=0,$=0,M=0,D=0,E=null,C=!1,V=0,x=c.length;x>V;V++){var w=d[V+1];if(w){var A=c[V],P=A.length,z=parseInt(w,10);switch(A){case"dd":case"d":if(y=z,n(y,1,31))return null;break;case"MMM":case"MMMM":if(h=r(u,w,3===P),n(h,0,11))return null;break;case"M":case"MM":if(h=z-1,n(h,0,11))return null;break;case"y":case"yy":case"yyyy":if(m=4>P?e(u,z):z,n(m,0,9999))return null;break;case"h":case"hh":if(F=z,12===F&&(F=0),n(F,0,11))return null;break;case"H":case"HH":if(F=z,n(F,0,23))return null;break;case"m":case"mm":if($=z,n($,0,59))return null;break;case"s":case"ss":if(M=z,n(M,0,59))return null;break;case"tt":case"t":if(C=u.PM&&(w===u.PM[0]||w===u.PM[1]||w===u.PM[2]),!C&&(!u.AM||w!==u.AM[0]&&w!==u.AM[1]&&w!==u.AM[2]))return null;break;case"f":case"ff":case"fff":if(D=z*Math.pow(10,3-P),n(D,0,999))return null;break;case"ddd":case"dddd":if(b=a(u,w,3===P),n(b,0,6))return null;break;case"zzz":var I=w.split(/:/);if(2!==I.length)return null;if(f=parseInt(I[0],10),n(f,-12,13))return null;var N=parseInt(I[1],10);if(n(N,0,59))return null;E=60*f+(v(w,"-")?-N:N);break;case"z":case"zz":if(f=z,n(f,-12,13))return null;E=60*f;break;case"g":case"gg":var O=w;if(!O||!u.eras)return null;O=p(O.toLowerCase());for(var k=0,S=u.eras.length;S>k;k++)if(O===u.eras[k].name.toLowerCase()){g=k;break}if(null===g)return null}}}var L,j=new Date,q=u.convert;if(L=q?q.fromGregorian(j)[0]:j.getFullYear(),null===m?m=L:u.eras&&(m+=u.eras[g||0].offset),null===h&&(h=0),null===y&&(y=1),q){if(j=q.toGregorian(m,h,y),null===j)return null}else{if(j.setFullYear(m,h,y),j.getDate()!==y)return null;if(null!==b&&j.getDay()!==b)return null}if(C&&12>F&&(F+=12),j.setHours(F,$,M,D),null!==E){var R=j.getMinutes()-(E+j.getTimezoneOffset());j.setHours(j.getHours()+parseInt(R/60,10),R%60)}return j}}(),V=function(e,a,r){var t,n=a["-"],i=a["+"];switch(r){case"n -":n=" "+n,i=" "+i;case"n-":o(e,n)?t=["-",e.substr(0,e.length-n.length)]:o(e,i)&&(t=["+",e.substr(0,e.length-i.length)]);break;case"- n":n+=" ",i+=" ";case"-n":v(e,n)?t=["-",e.substr(n.length)]:v(e,i)&&(t=["+",e.substr(i.length)]);break;case"(n)":v(e,"(")&&o(e,")")&&(t=["-",e.substr(1,e.length-2)])}return t||["",e]},t.prototype.findClosestCulture=function(e){return t.findClosestCulture.call(this,e)},t.prototype.format=function(e,a,r){return t.format.call(this,e,a,r)},t.prototype.localize=function(e,a){return t.localize.call(this,e,a)},t.prototype.parseInt=function(e,a,r){return t.parseInt.call(this,e,a,r)},t.prototype.parseFloat=function(e,a,r){return t.parseFloat.call(this,e,a,r)},t.prototype.culture=function(e){return t.culture.call(this,e)},t.addCultureInfo=function(e,a,r){var t={},n=!1;"string"!=typeof e?(r=e,e=this.culture().name,t=this.cultures[e]):"string"!=typeof a?(r=a,n=null==this.cultures[e],t=this.cultures[e]||this.cultures["default"]):(n=!0,t=this.cultures[a]),this.cultures[e]=d(!0,{},t,r),n&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},t.findClosestCulture=function(e){var a;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];if("string"==typeof e&&(e=e.split(",")),f(e)){var r,t,n=this.cultures,i=e,s=i.length,l=[];for(t=0;s>t;t++){e=p(i[t]);var u,o=e.split(";");r=p(o[0]),1===o.length?u=1:(e=p(o[1]),0===e.indexOf("q=")?(e=e.substr(2),u=parseFloat(e),u=isNaN(u)?0:u):u=1),l.push({lang:r,pri:u})}for(l.sort(function(e,a){return e.pri<a.pri?1:e.pri>a.pri?-1:0}),t=0;s>t;t++)if(r=l[t].lang,a=n[r])return a;for(t=0;s>t;t++)for(r=l[t].lang;;){var d=r.lastIndexOf("-");if(-1===d)break;if(r=r.substr(0,d),a=n[r])return a}for(t=0;s>t;t++){r=l[t].lang;for(var c in n){var g=n[c];if(g.language===r)return g}}}else if("object"==typeof e)return e;return a||null},t.format=function(e,a,r){var t=this.findClosestCulture(r);return e instanceof Date?e=F(e,a,t):"number"==typeof e&&(e=$(e,a,t)),e},t.localize=function(e,a){return this.findClosestCulture(a).messages[e]||this.cultures["default"].messages[e]},t.parseDate=function(e,a,r){r=this.findClosestCulture(r);var t,n,i;if(a){if("string"==typeof a&&(a=[a]),a.length)for(var s=0,l=a.length;l>s;s++){var u=a[s];if(u&&(t=C(e,u,r)))break}}else{i=r.calendar.patterns;for(n in i)if(t=C(e,i[n],r))break}return t||null},t.parseInt=function(e,a,r){return m(t.parseFloat(e,a,r))},t.parseFloat=function(e,a,r){"number"!=typeof a&&(r=a,a=10);var t=this.findClosestCulture(r),l=0/0,u=t.numberFormat;if(e.indexOf(t.numberFormat.currency.symbol)>-1&&(e=e.replace(t.numberFormat.currency.symbol,""),e=e.replace(t.numberFormat.currency["."],t.numberFormat["."])),e.indexOf(t.numberFormat.percent.symbol)>-1&&(e=e.replace(t.numberFormat.percent.symbol,"")),e=e.replace(/ /g,""),i.test(e))l=parseFloat(e);else if(!a&&n.test(e))l=parseInt(e,16);else{var o=V(e,u,u.pattern[0]),d=o[0],f=o[1];""===d&&"(n)"!==u.pattern[0]&&(o=V(e,u,"(n)"),d=o[0],f=o[1]),""===d&&"-n"!==u.pattern[0]&&(o=V(e,u,"-n"),d=o[0],f=o[1]),d=d||"+";var c,g,v=f.indexOf("e");0>v&&(v=f.indexOf("E")),0>v?(g=f,c=null):(g=f.substr(0,v),c=f.substr(v+1));var p,m,h=u["."],y=g.indexOf(h);0>y?(p=g,m=null):(p=g.substr(0,y),m=g.substr(y+h.length));var b=u[","];p=p.split(b).join("");var F=b.replace(/\u00A0/g," ");b!==F&&(p=p.split(F).join(""));var $=d+p;if(null!==m&&($+="."+m),null!==c){var M=V(c,u,"-n");$+="e"+(M[0]||"+")+M[1]}s.test($)&&(l=parseFloat($))}return l},t.culture=function(e){return"undefined"!=typeof e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures["default"]}}(this),function(e){var a;a="undefined"!=typeof r&&"undefined"!=typeof exports&&"undefined"!=typeof module?r("globalize"):e.Globalize,a.addCultureInfo("fr","default",{name:"fr",englishName:"French",nativeName:"français",language:"fr",numberFormat:{",":" ",".":",",NaN:"Non Numérique",negativeInfinity:"-Infini",positiveInfinity:"+Infini",percent:{",":" ",".":","},currency:{pattern:["-n $","n $"],",":" ",".":",",symbol:"€"}},calendars:{standard:{firstDay:1,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],namesAbbr:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""]},AM:null,PM:null,eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}})}(this);var n={version:"1.0.0",configuration:{ssn:{male:"M",female:"F",other:"O"},dates:{dateProvider:function(){var e=new Date;return e.setHours(0,0,0,0),e}},culture:{defaultCulture:"fr",setCulture:function(e){Globalize.culture(e)}},zipCode:{defaultCountry:"FR"}},utils:{isEmptyVal:function(e){return void 0===e?!0:null===e?!0:""===e?!0:!1},isNaN:function(e){return"number"==typeof e&&e!==e},isEmptyValOrNaN:function(e){return this.isEmptyVal(e)||this.isNaN(e)},bbanMapping:{A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,I:9,J:1,K:2,L:3,M:4,N:5,O:6,P:7,Q:8,R:9,S:2,T:3,U:4,V:5,W:6,X:7,Y:8,Z:9},convertBban:function(e){e=e.toUpperCase();for(var a="",r=0;r<e.length;r++){var t=n.utils.bbanMapping[e.charAt(r)];a+=t?t:e.charAt(r)}return a},ibanConvert:function(e){for(var a="",r=0;r<e.length;r++){var t=e.charAt(r);t>"9"?t>="A"&&"Z">=t&&(a+=(t.charCodeAt(0)-55).toString()):t>="0"&&(a+=t)}return a},toDate:function(e){if(this.isDate(e))return e;var a=Globalize.parseDate(e);if(a)return a;var r=/^(\d{4})[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])(T.*)?$/,t=e.match(r);if(t){var n=parseInt(t[3],10),i=parseInt(t[2],10)-1,s=parseInt(t[1],10);return new Date(s,i,n,0,0,0,0)}return a=new Date(e),this.isDate(a)?a:null},isDate:function(e){return"[object Date]"===Object.prototype.toString.apply(e)?!isNaN(e.getYear()):!1},monthDiff:function(e,a){var r;return r=12*(a.getFullYear()-e.getFullYear()),r-=e.getMonth()+1,r+=a.getMonth()},getValue:function(e){return angular.isUndefined(e)?void 0:angular.isObject(e)&&e.hasOwnProperty("value")?angular.isFunction(e.value)?e.value():e.value:angular.isFunction(e)?e():e},trimNumberFromLeft:function(e,a){for(;e.substr(e.length-1,1)==a&&e.length>5;)e=e.substr(0,e.length-1);return e},padLeft:function(e,a,r){for(e=e.toString();e.length<a;)e=r+e;return e},formatDate:function(e){return padLeft(e.getDate(),2,"0")+"/"+padLeft(e.getMonth(),2,"0")+"/"+padLeft(e.getYear(),4,"0")},checkLuhn:function(e){for(var a=0,r=e.length,t=1&r,n=0;r>n;n++){var i=parseInt(e.charAt(n),10);(1&n)==t&&(i=2*i,i>9&&(i-=9)),a+=parseInt(i,10)}return a%10==0},formatMessage:function(e,a){return e.replace(/\{0\}/gi,a)}},bban:{validate:function(e){if(n.utils.isEmptyValOrNaN(e))return!0;var a=n.utils.convertBban(e),r=/^([0-9]{5})[ ]?([0-9]{5})[ ]?([0-9]{11})[ ]?([0-9]{2})$/,t=r.exec(a);if(!t)return!1;var i=t[1],s=t[2],l=t[3],u=t[4],o=(89*i+15*s+3*l)%97;return 97-o==u}},iban:{validate:function(e){if(n.utils.isEmptyValOrNaN(e))return!0;e=e.replace(/\s/g,"");var a=/^[a-zA-Z]{2}\d{2}\w{10,30}$/;if(!a.test(e))return!1;e=e.toUpperCase();for(var r=e.substr(0,2),t=e.substr(2,2),i=e.substr(4),s=n.utils.ibanConvert(i+r)+t,l=0,u=0;u<s.length;)l=parseInt(l+s.substr(u,9),10)%97,u+=9;return l%97==1}},bic:{validate:function(e){if(n.utils.isEmptyValOrNaN(e))return!0;var a=/^([a-zA-Z]){4}([a-zA-Z]){2}([0-9a-zA-Z]){2}([0-9a-zA-Z]{3})?$/;return a.test(e)}},phone:{validate:function(e,a){if(n.utils.isEmptyValOrNaN(e))return!0;if(n.utils.isEmptyVal(a)){var r=/^(\+\s?)?(^(?!\+.*)\(\+?\d+([\s\-\.]?\d+)?\)|\d+)([\s\-\.]?(\(\d+([\s\-\.]?\d+)?\)|\d+))*(\s?(x|ext\.?)\s?\d+)?$/;return r.test(e)}for(var t=a.split(","),i=0;i<t.length;i++){var s=n.phone.getRegexForCountry(t[i]);if(!s)throw Error("Ce pays n'est pas connu : "+t[i]);if(s.test(e))return!0}return!1},getRegexForCountry:function(e){return n.phone.dictionary[e]},dictionary:{AD:/^((00 ?|\+)376 ?)?([ \-.]?\d){6}$/,AL:/^((00 ?|\+)355 ?|0)?([ \-.]?\d){8}$/,AT:/^((00 ?|\+)43 ?|0)?([ \-.]?\d){4,13}$/,AU:/^((00 ?|\+)61 ?|0)?([ \-.]?\d){9}$/,BA:/^((00 ?|\+)387 ?|0)?([ \-.]?\d){8}$/,BE:/^((00 ?|\+)32 ?|0)?([ \-.]?\d){8}$/,BG:/^((00 ?|\+)359 ?|0)?([ \-.]?\d){7,8}$/,BY:/^((00 ?|\+)375 ?|0)?([ \-.]?\d){9}$/,CA:/^((00 ?|\+)1 ?|1)?([ \-.]?\d){10}$/,CH:/^((00 ?|\+)41 ?|0)?([ \-.]?\d){9}$/,CN:/^((00 ?|\+)86 ?|0)?([ \-.]?\d){10}$/,CZ:/^((00 ?|\+)420 ?)?([ \-.]?\d){9}$/,DE:/^((00 ?|\+)49 ?|0)?([ \-.]?\d){7,11}$/,DK:/^((00 ?|\+)45 ?)?([ \-.]?\d){8}$/,DZ:/^((00 ?|\+)213 ?|0)?([ \-.]?\d){9}$/,EE:/^((00 ?|\+)372 ?)?([ \-.]?\d){7}$/,ES:/^((00 ?|\+)34 ?)?([ \-.]?\d){9}$/,FI:/^((00 ?|\+)358 ?|0)?([ \-.]?\d){5,11}$/,FR:/^((00 ?|\+)33 ?|0)[1-79]([ \-.]?\d){8}$/,GB:/^((00 ?|\+)44 ?|0)?([ \-.]?\d){7,10}$/,GR:/^((00 ?|\+)30 ?)?([ \-.]?\d){10}$/,HR:/^((00 ?|\+)385 ?|0)?([ \-.]?\d){9}$/,HU:/^((00 ?|\+)36 ?|06)?([ \-.]?\d){8}$/,IE:/^((00 ?|\+)353 ?|0)?([ \-.]?\d){9}$/,IN:/^((00 ?|\+)91 ?|0)?([ \-.]?\d){10}$/,IT:/^((00 ?|\+)39 ?|0)?([ \-.]?\d){9}$/,JP:/^((00 ?|\+)81 ?|0)?([ \-.]?\d){9}$/,LI:/^((00 ?|\+)423 ?)?([ \-.]?\d){7}$/,LT:/^((00 ?|\+)370 ?|0)?([ \-.]?\d){8}$/,LU:/^((00 ?|\+)352 ?)?([ \-.]?\d){6,8}$/,LV:/^((00 ?|\+)371 ?)?([ \-.]?\d){8}$/,MA:/^((00 ?|\+)212 ?|0)?([ \-.]?\d){9}$/,MD:/^((00 ?|\+)373 ?|0)?([ \-.]?\d){8}$/,ME:/^((00 ?|\+)382 ?|0)?([ \-.]?\d){8}$/,MK:/^((00 ?|\+)389 ?|0)?([ \-.]?\d){8}$/,NL:/^((00 ?|\+)31 ?|0)?([ \-.]?\d){9}$/,NO:/^((00 ?|\+)47 ?)?([ \-.]?\d){8}$/,PL:/^((00 ?|\+)48 ?)?([ \-.]?\d){9}$/,PT:/^((00 ?|\+)351 ?)?([ \-.]?\d){9}$/,RO:/^((00 ?|\+)40 ?|0)?([ \-.]?\d){9}$/,RS:/^((00 ?|\+)381 ?|0)?([ \-.]?\d){9}$/,RU:/^((00 ?|\+)7 ?|8)?([ \-.]?\d){10}$/,SE:/^((00 ?|\+)46 ?|0)?([ \-.]?\d){6,10}$/,SI:/^((00 ?|\+)386 ?|0)?([ \-.]?\d){8}$/,SK:/^((00 ?|\+)421 ?|0)?([ \-.]?\d){9}$/,TN:/^((00 ?|\+)216 ?)?([ \-.]?\d){8}$/,TR:/^((00 ?|\+)90 ?|0)?([ \-.]?\d){10}$/,UA:/^((00 ?|\+)380 ?|0)?([ \-.]?\d){9}$/,US:/^((00 ?|\+)1 ?|1)?([ \-.]?\d){10}$/}},ssn:{extract:function(e){e=e?e.toUpperCase():e;var a=/^([1-3])([0-9]{2})([0-9]{2})([0-9]{2}|2A|2B)([0-9]{3})([0-9]{3})([0-9]{2})$/g,r=a.exec(e);return r?{gender:r[1],birthYear:r[2],birthMonth:r[3],department:r[4],district:r[5],increment:r[6],key:r[7],value:function(){var e=this.department;return"2A"==this.department?e="19":"2B"==this.department&&(e="18"),this.gender+this.birthYear+this.birthMonth+e+this.district+this.increment}}:null},validate:function(e){if(n.utils.isEmptyValOrNaN(e))return!0;var a=n.ssn.extract(e);if(!a)return!1;var r=a.value()%97;return 97-r==a.key},validateBirthDate:function(e,a,r){if(n.utils.isEmptyValOrNaN(e)||n.utils.isEmptyValOrNaN(a))return!0;var t=n.ssn.extract(e);if(!t)return!0;if(r)return!0;var i=a.split("/"),s=i[1].substr(0,2),l=i[2].substr(2,3);if(l!=t.birthYear)return!1;if(s!=t.birthMonth){var u=parseInt(s,10)+30,o=u==t.birthMonth,d=t.birthMonth>=20&&t.birthMonth<=30||t.birthMonth>=50&&t.birthMonth<=99;if(!o&&!d)return!1}return!0},validateGender:function(e,a,r,t,i,s){if(n.utils.isEmptyValOrNaN(e)||n.utils.isEmptyValOrNaN(a))return!0;if(r)return!0;var l=n.ssn.extract(e);if(!l)return!0;t=t||n.configuration.ssn.male,i=i||n.configuration.ssn.female,s=s||n.configuration.ssn.other;var u=null;return"1"===l.gender?u=t:"2"===l.gender?u=i:"3"===l.gender&&(u=s),a==u}},dates:{validate:function(a){return n.utils.isEmptyValOrNaN(a)?!0:n.utils.isDate(a)||e(a)?!0:!1},futureDate:function(e,a,r,t,i){if(n.utils.isEmptyValOrNaN(e))return!0;var s=n.utils.toDate(angular.copy(e));if(!s)return!1;t=parseInt(t,10),t&&s.setDate(s.getDate()+t),i=parseInt(i,10),i&&s.setMonth(s.getMonth()+i);var l;return l=a?n.utils.toDate(a):n.configuration.dates.dateProvider(),l?r?s>=l:s>l:!0},pastDate:function(e,a,r,t,i){if(n.utils.isEmptyValOrNaN(e))return!0;var s=n.utils.toDate(angular.copy(e));if(!s)return!1;t=parseInt(t,10),t&&s.setDate(s.getDate()+t),i=parseInt(i,10),i&&s.setMonth(s.getMonth()+i);var l;return l=a?n.utils.toDate(a):n.configuration.dates.dateProvider(),l?r?l>=s:l>s:!0},birthdate:function(e){var a=n.dates.validate(e);return a?n.dates.pastDate(e,void 0,!1,-1)&&n.dates.futureDate(e,void 0,!1,0,-1560):!1},effectiveDate:function(e){var a=n.dates.validate(e);return a?n.dates.futureDate(e,void 0,!1,-1)&&n.dates.pastDate(e,void 0,!1,0,-12):!1}},paymentAuthorityCode:{extract:function(e){var a=/^([0-9]{2})([0-9]{2})([0-9]{1})([0-9]{4})$/,r=a.exec(e);return r?{code:r[1],departement:r[2],scheme:r[3],entity:r[2]+r[3],num:r[4]}:null},validate:function(e){if(n.utils.isEmptyValOrNaN(e))return!0;var a=n.paymentAuthorityCode.extract(e);return!!a},validateRegime:function(e,a){throw Error("Validation non conforme.")},validateDepartment:function(e,a){if(n.utils.isEmptyValOrNaN(e))return!0;var r=n.paymentAuthorityCode.extract(e);
return r?r.departement===a:!0}},zipCode:{validate:function(e,a){if(n.utils.isEmptyValOrNaN(e))return!0;var r=a||n.configuration.zipCode.defaultCountry,t=n.zipCode.getRegexForCountry(r);return t?t.test(e):!0},getRegexForCountry:function(e){return n.zipCode.dictionary[e]},dictionary:{AD:/^AD[0-9]{3}$/,AL:/^[0-9]{4}$/,AT:/^[0-9]{4}$/,AU:/^[0-9]{4}$/,BA:/^[0-9]{5}$/,BE:/^[0-9]{4}$/,BG:/^[0-9]{4}$/,BY:/^[0-9]{6}$/,CA:/^[A-Z]{1}[0-9]{1}[A-Z]{1}[0-9]{1}[A-Z]{1}[0-9]{1}$/,CH:/^[0-9]{4}$/,CN:/^[0-9]{6}$/,CZ:/^[0-9]{5}$/,DE:/^[0-9]{5}$/,DK:/^[0-9]{4}$/,DZ:/^[0-9]{5}$/,EE:/^[0-9]{5}$/,ES:/^[0-9]{5}$/,FI:/^[0-9]{5}$/,FR:/^[0-9]{5}$/,GB:/^[A-Z]{1}[0-9A-Z]{4}[0-9A-Z]{0,2}$/,GR:/^[0-9]{5}$/,HR:/^[0-9]{5}$/,HU:/^[0-9]{4}$/,IE:/^$/,IN:/^[0-9]{6}$/,IT:/^[0-9]{5}$/,JP:/^[0-9]{7}$/,LI:/^[0-9]{4}$/,LT:/^[0-9]{5}$/,LU:/^[0-9]{4}$/,LV:/^LV-[0-9]{4}$/,MA:/^[0-9]{5}$/,MD:/^[0-9]{4}$/,ME:/^[0-9]{5}$/,MK:/^[0-9]{4}$/,NL:/^[0-9]{4}[A-Z]{2}$/,NO:/^[0-9]{4}$/,PL:/^[0-9]{5}$/,PT:/^[0-9]{7}$/,RO:/^[0-9]{6}$/,RS:/^[0-9]{5}$/,RU:/^[0-9]{6}$/,SE:/^[0-9]{5}$/,SI:/^[0-9]{4}$/,SK:/^[0-9]{5}$/,TN:/^[0-9]{4}$/,TR:/^[0-9]{5}$/,UA:/^[0-9]{5}$/,US:/^[0-9]{5}$/}},contractId:{validate:function(e){if(n.utils.isEmptyValOrNaN(e))return!0;var a=/^\d{12}$/;return a.test(e)}},registrationNumber:{validate:function(e){if(n.utils.isEmptyValOrNaN(e))return!0;var a=/^[A-Z]{2}\d{3}[A-Z]{2}$/,r=/^\d{2,4}[A-Z]{1,3}(\d{2}|2A|2B)$/;return e=e.replace(/-/g,"").replace(/\s/g,""),a.test(e)||r.test(e)}},portfolioCode:{validate:function(e){if(n.utils.isEmptyValOrNaN(e))return!0;var a=/^\d{12}$/;return a.test(e)}},subscriberId:{validate:function(e){if(n.utils.isEmptyValOrNaN(e))return!0;var a=/^\d{12}$/;return a.test(e)}},url:{validate:function(e){if(n.utils.isEmptyValOrNaN(e))return!0;var a=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;return a.test(e)}},creditCard:{validate:function(e){return n.utils.isEmptyValOrNaN(e)?!0:/[^0-9 \-]+/.test(e)?!1:(e=e.replace(/\s+/g,""),n.utils.checkLuhn(e))}},siren:{validate:function(e){if(n.utils.isEmptyValOrNaN(e))return!0;var a=/^\d{9}$/;return e=e.replace(/\s+/g,""),a.test(e)?n.utils.checkLuhn(e):!1}},siret:{validate:function(e){if(n.utils.isEmptyValOrNaN(e))return!0;var a=/^\d{14}$/;return e=e.replace(/\s+/g,""),a.test(e)?n.utils.checkLuhn(e):!1}},required:{validate:function(e){var a,r=/^\s+|\s+$/g;return void 0===e||null===e?!1:(a=e,"string"==typeof e&&(a=e.replace(r,"")),(a+"").length>0)}},minLength:{validate:function(e,a){return n.utils.isEmptyVal(e)?!0:(e+"").length>=a}},maxLength:{validate:function(e,a){return n.utils.isEmptyVal(e)?!0:(e+"").length<=a}},pattern:{validate:function(e,a){return n.utils.isEmptyValOrNaN(e)?!0:a.test(e.toString())}},min:{validate:function(e,a){return n.utils.isEmptyVal(e)?!0:parseFloat(e)>=parseFloat(a)}},max:{validate:function(e,a){return n.utils.isEmptyVal(e)?!0:parseFloat(e)<=parseFloat(a)}},email:{validate:function(e){if(n.utils.isEmptyValOrNaN(e))return!0;var a=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;return a.exec(e)},validateMessage:"."},number:{validate:function(e){if(n.utils.isEmptyVal(e))return!0;var a=/^-?\d+([,.]\d+)?$/;return a.test(void 0!=e&&e.replace?e.replace(/\s/g,""):e)}},digit:{validate:function(e){if(n.utils.isEmptyVal(e))return!0;var a=/^\d$/;return a.test(e)}},integer:{validate:function(e){if(n.utils.isEmptyVal(e))return!0;var a=/^-?\d+$/;return a.test(e)}},unsignedInteger:{validate:function(e){if(n.utils.isEmptyVal(e))return!0;var a=/^\d+$/;return a.test(e)}},equal:{validate:function(e,a){return e===a}},notEqual:{validate:function(e,a){return n.utils.isEmptyVal(e)?!0:e!==a}},range:{validate:function(e,a,r){if(n.utils.isEmptyVal(e))return!0;if(!a||!r)throw Error("Impossible de vérifier si la valeur est dans les bornes");return parseFloat(e)<=parseFloat(r)&&parseFloat(e)>=parseFloat(a)}},normalize:{normalizeDate:function(e,a){if(!e)return e;e=n.normalize.trim(e);var r=e.replace(/[\s-\.]/g,"/");if(/^\d{1,2}\/\d{1,2}\/\d{1,4}$/.test(r)){var t=r.split("/"),i=t[2];if(i.length<=2){a=a||20;var s=n.configuration.dates.dateProvider().getFullYear(),l=(s-100).toString().substr(0,2),u=(s+a).toString().substr(0,2),o=s+a-100*Math.floor((s+a)/100);o=o>100?o-100:o,i=parseInt(i,10)>o?l+n.utils.padLeft(i,2,"0"):u+n.utils.padLeft(i,2,"0")}return r=n.utils.padLeft(t[0],2,"0")+"/"+n.utils.padLeft(t[1],2,"0")+"/"+n.utils.padLeft(i,4,"0")}return e},trim:function(e){return e&&e.trim?e.trim():e},padLeft:function(e,a,r,t){return e?t&&!t.test?e:t&&!t.test(e)?e:(r=r||" ",n.utils.padLeft(e,a,r)):e},prune:function(e,a){return e&&e.substr&&e.length>a?e.substr(0,a):e}},types:{firstname:{validate:function(e){var a={valid:!0,message:""};if(n.utils.isEmptyVal(e))return a;var r=50;return n.maxLength.validate(e,r)?n.pattern.validate(e,/^[a-zâãäåæçèéêëìíîïðñòóôõøùúûüýþÿA-ZÂÃÄÅÆÇÈÉÊËÌÍÎÏİÐÑÒÓÔÕØÙÚÛÜÝÞŸ '-]*$/)?a:(a.valid=!1,a.message=n.pattern.validate.message,a):(a.valid=!1,a.message=n.utils.formatMessage(n.maxLength.validate.message,r),a)}},lastname:{validate:function(e){var a={valid:!0,message:""};if(n.utils.isEmptyVal(e))return a;var r=50;return n.maxLength.validate(e,r)?n.pattern.validate(e,/^[a-zâãäåæçèéêëìíîïðñòóôõøùúûüýþÿA-ZÂÃÄÅÆÇÈÉÊËÌÍÎÏİÐÑÒÓÔÕØÙÚÛÜÝÞŸ '-]*$/)?a:(a.valid=!1,a.message=n.pattern.validate.message,a):(a.valid=!1,a.message=n.utils.formatMessage(n.maxLength.validate.message,r),a)}}},init:function(){n.configuration.culture.setCulture(n.configuration.culture.defaultCulture),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s*((?:[\S\s]*\S)?)\s*$/,"$1")}),n.bban.validate.message="Veuillez saisir un RIB valide.",n.iban.validate.message="Veuillez saisir un IBAN valide.",n.bic.validate.message="Veuillez saisir un BIC valide.",n.phone.validate.message="Veuillez saisir un n° de téléphone valide.",n.registrationNumber.validate.message="Veuillez saisir une immatriculation valide.",n.ssn.validate.message="Veuillez saisir un n° de sécurité sociale valide.",n.ssn.validateBirthDate.message="Veuillez saisir date de naissance valide",n.ssn.validateGender.message="Veuillez saisir un n° de sécurité sociale et un sexe valide.",n.dates.validate.message="Veuillez saisir une date valide.",n.dates.futureDate.message="Veuillez saisir une date valide.",n.dates.pastDate.message="Veuillez saisir une date valide.",n.dates.birthdate.message="Veuillez saisir une date de naissance valide.",n.dates.birthdate.messageBis="Veuillez saisir une date de naissance inférieure ou égale à la date d'aujourd'hui.",n.dates.effectiveDate.message="Veuillez saisir une date d'effet valide.",n.paymentAuthorityCode.validate.message="Veuillez saisir un code d'organisme payeur valide.",n.paymentAuthorityCode.validateRegime.message="Veuillez saisir un code d'organisme payeur et un régime valide.",n.paymentAuthorityCode.validateDepartment.message="Veuillez saisir un code d'organisme payeur et un département valide.",n.zipCode.validate.message="Veuillez saisir un code postal valide.",n.contractId.validate.message="Veuillez saisir un numéro de contrat valide.",n.portfolioCode.validate.message="Veuillez saisir un code portefeuille valide.",n.subscriberId.validate.message="Veuillez saisir un numéro d'abonné valide.",n.url.validate.message="Veuillez saisir une URL valide.",n.creditCard.validate.message="Veuillez saisir un numéro de carte bancaire valide.",n.siren.validate.message="Veuillez saisir un numéro SIREN valide.",n.siret.validate.message="Veuillez saisir un numéro SIRET valide.",n.required.validate.message="Ce champ est obligatoire.",n.minLength.validate.message="Veuillez saisir au moins {0} caractère(s).",n.maxLength.validate.message="Veuillez saisir au plus {0} caractère(s).",n.pattern.validate.message="Veuillez corriger ce champ.",n.min.validate.message="Veuillez saisir une valeur supérieure ou égale à {0}.",n.max.validate.message="Veuillez saisir une valeur inférieure ou égale à {0}.",n.email.validate.message="Veuillez saisir une adresse électronique valide.",n.number.validate.message="Veuillez saisir un nombre.",n.digit.validate.message="Veuillez saisir un chiffre.",n.integer.validate.message="Veuillez saisir un entier.",n.unsignedInteger.validate.message="Veuillez saisir un entier positif.",n.equal.validate.message="Les valeurs doivent être égales.",n.notEqual.validate.message="Veuillez saisir une autre valeur.",n.range.validate.message=function(e,a){return"Veuillez saisir une valeur entre "+e+" et "+a}}};n.init(),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var a=this.length>>>0,r=Number(arguments[1])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=a);a>r;r++)if(r in this&&this[r]===e)return r;return-1}),angular.validation=angular.validation||{},angular.validation.utils={values:function(e){var a=[];for(var r in e)e.hasOwnProperty(r)&&a.push(e[r]);return a},isEmptyVal:function(e){return void 0===e?!0:null===e?!0:""===e?!0:!1},isNaN:function(e){return"number"==typeof e&&e!==e},isEmptyValOrNaN:function(e){return this.isEmptyVal(e)||this.isNaN(e)},isNumber:function(e){return angular.isNumber(e)},getValue:function(e){return n.utils.getValue(e)},formatMessage:function(e,a){return angular.isFunction(e)?e(a):e.replace(/\{0\}/gi,angular.validation.utils.getValue(a))}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var a=this.length>>>0,r=Number(arguments[1])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=a);a>r;r++)if(r in this&&this[r]===e)return r;return-1}),angular.validation.rules={},angular.validation.types={},angular.validation.rules.required={validator:function(e){return n.required.validate(e)},message:n.required.validate.message},angular.validation.rules.min={validator:function(e,a){var r=angular.validation.utils.getValue(e),t=angular.validation.utils.getValue(a);return n.min.validate(r,t)},message:n.min.validate.message},angular.validation.rules.max={validator:function(e,a){var r=angular.validation.utils.getValue(e),t=angular.validation.utils.getValue(a);return n.max.validate(r,t)},message:n.max.validate.message},angular.validation.rules.minLength={validator:function(e,a){return n.minLength.validate(e,angular.validation.utils.getValue(a))},message:n.minLength.validate.message},angular.validation.rules.maxLength={validator:function(e,a){return n.maxLength.validate(e,angular.validation.utils.getValue(a))},message:n.maxLength.validate.message},angular.validation.rules.pattern={validator:function(e,a){return n.pattern.validate(e,n.utils.getValue(a))},message:n.pattern.validate.message},angular.validation.rules.email={validator:function(e){return e?n.email.validate(e):!0},message:n.email.validate.message},angular.validation.rules.number={validator:function(e){return n.number.validate(e)},message:n.number.validate.message},angular.validation.rules.digit={validator:function(e){return n.digit.validate(e)},message:n.digit.validate.message},angular.validation.rules.integer={validator:function(e){return n.integer.validate(e)},message:n.integer.validate.message},angular.validation.rules.unsignedInteger={validator:function(e){return n.unsignedInteger.validate(e)},message:n.unsignedInteger.validate.message},angular.validation.rules.equal={validator:function(e,a){var r=angular.validation.utils.getValue(e),t=angular.validation.utils.getValue(a);return n.equal.validate(r,t)},message:n.equal.validate.message},angular.validation.rules.notEqual={validator:function(e,a){var r=angular.validation.utils.getValue(e),t=angular.validation.utils.getValue(a);return n.notEqual.validate(r,t)},message:n.notEqual.validate.message},angular.validation.rules.bban={validator:function(e){return n.bban.validate(e)},message:n.bban.validate.message},angular.validation.rules.iban={validator:function(e){return n.iban.validate(e)},message:n.iban.validate.message},angular.validation.rules.bic={validator:function(e){return n.bic.validate(e)},message:n.bic.validate.message},angular.validation.rules.ssn={validator:function(e){return n.ssn.validate(e)},message:n.ssn.validate.message},angular.validation.rules.birthDate={validator:function(e,a){this.message=n.dates.birthdate.message;var r,t=angular.validation.rules.date.validator(e,a);if(!t)return!1;var i=new Date;if(angular.isString(e)){var s=e.split("/"),l=e.split("-");s.length>1?r=new Date(s.reverse().join("-")):l.length>1&&(r=new Date(e)),e=r}return t=i>=e,t?!0:(this.message=n.dates.birthdate.messageBis,!1)},message:n.dates.birthdate.message},angular.validation.rules.gender={validator:function(e,a){var r=void 0,t=void 0,i=void 0,s=void 0,l=void 0;return a&&(r=angular.validation.utils.getValue(a.gender),t=angular.validation.utils.getValue(a.affiliated),i=angular.validation.utils.getValue(a.male),s=angular.validation.utils.getValue(a.female),l=angular.validation.utils.getValue(a.other)),r||"object"==typeof a||(r=angular.validation.utils.getValue(a)),n.ssn.validateGender(e,r,t,i,s,l)},message:n.ssn.validateGender.message},angular.validation.rules.date={validator:function(e,a){return n.dates.validate(a.viewValue)},message:n.dates.validate.message},angular.validation.rules.futureDate={validator:function(e,a){var r=null,t=void 0,i=void 0,s=!1;return"string"==typeof a||n.utils.isDate(a)?r=a:(a.date&&(r=angular.validation.utils.getValue(a.date)),a.days&&(t=angular.validation.utils.getValue(a.days)),a.months&&(i=angular.validation.utils.getValue(a.months)),s=a.dateIncluded&&angular.validation.utils.getValue(a.dateIncluded),r||(r=new Date,r.setHours(0,0,0,0))),n.dates.futureDate(e,r,s,t,i)},message:n.dates.futureDate.message},angular.validation.rules.pastDate={validator:function(e,a){var r=null,t=void 0,i=void 0,s=!1;return"string"==typeof a||n.utils.isDate(a)?r=a:(a.date&&(r=angular.validation.utils.getValue(a.date)),a.days&&(t=angular.validation.utils.getValue(a.days)),a.months&&(i=angular.validation.utils.getValue(a.months)),s=a.dateIncluded&&angular.validation.utils.getValue(a.dateIncluded),r||(r=new Date,r.setHours(0,0,0,0))),n.dates.pastDate(e,r,s,t,i)},message:n.dates.pastDate.message},angular.validation.rules.paymentAuthorityCode={validator:function(e){return n.paymentAuthorityCode.validate(e)},message:n.paymentAuthorityCode.validate.message},angular.validation.rules.paymentAuthorityCodeRegime={validator:function(e,a){return n.paymentAuthorityCode.validateRegime(e,a)},message:n.paymentAuthorityCode.validateRegime.message},angular.validation.rules.paymentAuthorityCodeDepartment={validator:function(e,a){return n.paymentAuthorityCode.validateDepartment(e,a)},message:n.paymentAuthorityCode.validateDepartment.message},angular.validation.rules.phone={validator:function(e,a){var r=angular.validation.utils.getValue(a);return n.phone.validate(e,r)},message:n.phone.validate.message},angular.validation.rules.zipCode={validator:function(e,a){var r=angular.validation.utils.getValue(a);return n.zipCode.validate(e,r)},message:n.zipCode.validate.message},angular.validation.rules.contractId={validator:function(e){return n.contractId.validate(e)},message:n.contractId.validate.message},angular.validation.rules.portfolioCode={validator:function(e){return n.portfolioCode.validate(e)},message:n.portfolioCode.validate.message},angular.validation.rules.subscriberId={validator:function(e){return n.subscriberId.validate(e)},message:n.subscriberId.validate.message},angular.validation.rules.url={validator:function(e){return n.url.validate(e)},message:n.url.validate.message},angular.validation.rules.creditCard={validator:function(e){return n.creditCard.validate(e)},message:n.creditCard.validate.message},angular.validation.rules.siren={validator:function(e){return n.siren.validate(e)},message:n.siren.validate.message},angular.validation.rules.siret={validator:function(e){return n.siret.validate(e)},message:n.siret.validate.message},angular.validation.rules.range={validator:function(e,a){var r=angular.validation.utils.getValue(a.min),t=angular.validation.utils.getValue(a.max);return n.range.validate(e,r,t)},message:function(e){var a=angular.validation.utils.getValue(e.min),r=angular.validation.utils.getValue(e.max);return n.range.validate.message(a,r)}},angular.validation.types.firstname={validator:function(e){var a=n.types.firstname.validate(e);return this.message=a.message,a.valid},message:""},angular.validation.types.lastname={validator:function(e){var a=n.types.lastname.validate(e);return this.message=a.message,a.valid},message:""},angular.validation.get=function(e){var a=angular.validation.rules[e];if(a)return a;if(a=angular.validation.types[e])return a;throw new Error("la regle: "+e+" n'existe pas")};var i=function(){var e=this,a={validOn:"lostFocus",showMessageOnInit:!1,placeholderClass:{error:"help-inline",state:"icon-axa axa-valid"},errorClass:"error",successClass:"succes",validatingClass:"validating",errorTemplate:function(){return'<af-error-placeholder class="'+a.placeholderClass.error+'"></af-error-placeholder>'},stateTemplate:function(){return'<af-validation-state class="'+a.placeholderClass.state+'"></af-validation-state>'}};e.config=a,e.$get=["$rootScope","$http","$q",function(r,t,n){function i(e){for(var a in V.validatableProperties){var r=V.validatableProperties[a];r&&r.validate&&angular.isFunction(e)&&e(r)}}function s(e){i(function(a){(angular.isUndefined(e)||a[C.validationGroup]===e)&&(a.showMessage=!1)})}function l(e){i(function(a){(angular.isUndefined(e)||a[C.validationGroup]===e)&&(a.showMessage=!0)})}function u(){for(var e in V.errors)return!1;return!0}function o(){for(var e in V.errors)delete V.errors[e];var a=[];return i(function(e){e.showMessage=!0;var r=e.validate();angular.isDefined(r.then)&&a.push(r)}),n.all(a).then(function(){return V.isValid()?!0:n.reject(V.isValid())})}function d(e){var a={nbError:0,errors:[],isValid:function(){return 0==a.nbError}},r=[];return i(function(t){if(t.hasOwnProperty("validationGroup")&&t.validationGroup==e){t.showMessage=!0;var n=t.validate();angular.isDefined(n.then)?(r.push(n),n.then(function(e){e||(a.nbError++,a.errors.push(t.error.message))})):t.isValid()||(a.nbError++,a.errors.push(t.error.message))}}),n.all(r).then(function(){return a.isValid()?!0:n.reject(V.isValid())})}function f(e,a){var r=V.validatableProperties[e];if(angular.isUndefined(r))throw Error("La propriété "+e+"n'existe pas.");if(angular.isDefined(a)&&angular.isUndefined(r[a]))throw Error("La regle "+a+"n'existe pas sur la propriété "+e);angular.isUndefined(a)?r.enable():(("required"===a||angular.isDefined(r.isRequired))&&(r.isRequired=!0),r[a].enable())}function c(e,a){var r=V.validatableProperties[e];if(angular.isUndefined(r))throw Error("La propriété "+e+"n'existe pas.");if(angular.isDefined(a)&&angular.isUndefined(r[a]))throw Error("La regle "+a+"n'existe pas sur la propriété "+e);angular.isUndefined(a)?r.disable():(("required"===a||angular.isDefined(r.isRequired))&&(r.isRequired=!1),r[a].disable())}function g(e,r){if($(),angular.isUndefined(r))throw Error("Le model ne peut-être null");(window.jasmine||window.mocha)&&(M=r),V.currentModel=r;var t=[];for(var n in e)if(e[n]===r){V.propertyNameBinding=n;break}angular.isArray(r)?(F(r),angular.forEach(r,function(e,a){h(e,t,"["+a+"]")})):h(r,t);for(var i in t){var s=[];angular.copy(t[i],s);for(var l in t[i])isNaN(parseInt(l))&&(s[l]=t[i][l]);t[i].property=i,V.validatableProperties[i]=s}V.add(r,V.validatableProperties);var u=void 0;angular.forEach(V.errors,function(e,a){var r=!1;for(var t in V.validatableProperties)if(t==a){r=!0,V.validatableProperties[t].error.hasError=!0,V.validatableProperties[t].error.message=e.message;break}r||(angular.isUndefined(u)&&(u={}),u[a]=e)}),angular.isDefined(u)&&angular.forEach(u,function(e,a){delete V.errors[a]}),a.showMessageOnInit?V.showMessage():V.hideMessage()}function v(e,a){var r=e.indexOf(a);r>=0&&e.splice(r,1)}function p(e,a){if(angular.isUndefined(e))throw Error("Le model ne peut-être null");if(angular.isUndefined(a))throw Error("Les regles a supprimer ne peuvent être null.");if(angular.isUndefined(V.validatableProperties))throw Error("La collection de validation ne peut être vide, assurez-vous que la methode apply est été faite.");for(var r in a){var t=V.validatableProperties[r];angular.isFunction(e[r])||angular.isFunction(t)||angular.forEach(t,function(e){v(t,e),(angular.isDefined(e.required)||angular.isDefined(t.isRequired))&&(t.isRequired=!1),delete t[e]})}}function m(e,r){function n(e,a,r){if(r!==r)return!0;for(var t=e,n=0;n<t.length;n++){var i=t[n];angular.isObject(i)&&angular.forEach(i,function(e,a){i=a});var s=t[i];if(s&&void 0!==s.validator){var l=!0;if(delete V.errors[t.property],!t.error.hasError&&(s.onlyIf&&(l=s.onlyIf()),l&&s.isEnabled)){t.wasValidated=!0,t.validating=t.isAsync;var u={viewValue:r};angular.isDefined(s.params)&&(s.params instanceof RegExp?u.value=s.params:angular.isObject(s.params)?angular.extend(u,s.params):u.value=s.params);var o=s.validator(a,u);if(angular.isObject(o)&&angular.isDefined(o.then))return o.then(function(e){return t.validating=!1,t.error.message="",t.error.hasError=!1,t.error.type="",t.error.group="",t.ctrl().$setValidity("async",!0),delete V.errors[t.property],s.onSuccess&&s.onSuccess(e),!0},function(e){return t.validating=!1,t.error.message=s.getErrorMessage(e),t.error.hasError=!0,t.error.type="async",t.error.group=t[C.validationGroup],t.ctrl().$setValidity("async",!1),V.errors[t.property]={type:i,message:t.error.message},!1});var d=o;d||t.error.hasError||(t.error.message=angular.validation.utils.formatMessage(s.message,s.params),t.error.hasError=!0,t.validating=!1,t.error.type=i,t.error.group=t[C.validationGroup])}if(t.ctrl().$setValidity(i,!t.error.hasError),t.error.hasError)return V.errors[t.property]={type:i,message:t.error.message},!t.error.hasError}}return!t.error.hasError}if(angular.isUndefined(e))throw Error("Le model ne peut-être null");if(angular.isUndefined(r))throw Error("La nouvelle validation ne peut-être null");if(angular.isUndefined(V.validatableProperties))throw Error("La collection de validation ne peut être vide, assurez-vous que apply est été faite.");for(var i in r){var s,l,u=r[i];if(!(e&&angular.isFunction(e[i])||angular.isFunction(u))&&angular.isDefined(u)){for(V.validatableProperties[i]&&V.validatableProperties[i]!==u?angular.forEach(u,function(e){V.validatableProperties[i].push(e),u=V.validatableProperties[i]}):V.validatableProperties[i]=u,u.dependencyProperties=[],u.property=i,u.isConditioned=u.hasOwnProperty("isConditioned")?u.isConditioned:!1,u.enableChange=u.hasOwnProperty("enableChange")?u.enableChange:!0,u.enable=function(){var e=!1;for(s=0;s<this.length;s++){var a=this[s];l=this[a],angular.isObject(a)&&angular.forEach(a,function(e,r){a=r,l=e}),l.enable&&0==l.isEnabled&&(("required"===a||angular.isDefined(l.isRequired))&&(this.isRequired=!0),l.enable(),e=!0)}e&&0==this.enableChange&&(this.enableChange=!0)},u.disable=function(){var e=!0;for(s=0;s<this.length;s++){var a=this[s];l=this[a],angular.isObject(a)&&angular.forEach(a,function(e,r){a=r,l=e}),l.disable&&1==l.isEnabled&&(("required"===a||angular.isDefined(l.isRequired))&&(this.isRequired=!1),l.disable(),e=!1)}0==e&&1==this.enableChange&&(this.enableChange=!1)},s=0;s<u.length;s++){var o=u[s];if(l=u[o],!(!o||angular.isFunction(o)||angular.isArray(o)||"isConditioned"===o||"dependencyRule"===o||o.hasOwnProperty("validator")||u.validate&&l&&l.hasOwnProperty("validator"))&&(angular.isObject(o)&&angular.forEach(o,function(e,a){o=a,l=e}),void 0===u[o]&&(l=l?l:{},u[o]=l,o!=C.validationGroup))){l.isEnabled=void 0!==l.enabled?l.enabled:!0,l.enable=function(){this.isEnabled=!0},l.disable=function(){this.isEnabled=!1};var d=void 0;if(u.validating=!1,(angular.isUndefined(u.isRequired)||u.isRequired===!1)&&(u.isRequired="required"===o),"async"!==o){if(u.isAsync=!1,d=angular.validation.get(o),!d)throw new Error("la regle: "+name+" n'existe pas");angular.isDefined(d.isRequired)&&(u.isRequired=d.isRequired)}else d={validator:function(e){var a=this.data,r=this.headers;if(angular.isUndefined(a)||!angular.isFunction(a))throw Error("funtion data doit être renseignée");return t({method:"POST",url:this.url,data:a(e),headers:r})},message:""},u.isAsync=!0;if(l.hasOwnProperty("validator")||(l.validator=d.validator),l.hasOwnProperty("message")||(l.message=d.message),l.hasOwnProperty("onlyIf")&&(u.isConditioned=!0),l.hasOwnProperty("dependencies")){for(var f=0;f<l.dependencies.length;f++)u.dependencyProperties.push(l.dependencies[f]);u.hasDependency=!0}}}u.enableChange=u.hasOwnProperty("wasValidated")?u.wasValidated:!1,u.showMessage=u.hasOwnProperty("showMessage")?u.showMessage:a.showMessageOnInit,u.error={message:"",hasError:!1},u.isValid=function(){return!this.error.hasError},u.validate=function(){var e=this;if(this.wasValidated=!1,this.error.hasError=!1,(window.jasmine||window.mocha)&&(e.ctrl=function(){var a=e.property.replace(/\[/g,".").replace(/]/g,"").split("."),r=M;return a.forEach(function(e){""!=e&&(r=r[e])}),{$modelValue:r,$viewValue:r,$setValidity:function(){}}}),angular.isUndefined(e.ctrl))return!0;var a=e.ctrl().$modelValue;if(e.dependencyRule&&angular.isDefined(V.validatableProperties[e.dependencyRule])){var r=V.validatableProperties[e.dependencyRule].validate();if(angular.isDefined(r.then))return r.then(function(){return V.validatableProperties[e.dependencyRule].isValid()&&V.validatableProperties[e.dependencyRule].wasValidated?n(e,a,e.ctrl().$viewValue):!1});if(!V.validatableProperties[e.dependencyRule].isValid())return!1;if(!V.validatableProperties[e.dependencyRule].wasValidated)return!1}return n(e,a,e.ctrl().$viewValue)}}}D.$broadcast("update_validation")}function h(e,a,r){var t=e.rules;if(!(r&&r.indexOf("rules")>=0)&&e){t&&e.rules.hasOwnProperty(C.validationGroups)&&y(t);for(var n in e)if(!angular.isFunction(e[n])&&n!=C.validationGroups){if(!e.hasOwnProperty(n))throw Error("la propriété "+n+" n'existe pas sur la donnée");var i;r&&(i=r+"."+n),t&&angular.isDefined(t[n])&&(t[n].dependencyRule=void 0,a[i?i:n]=t[n]),(angular.isObject(e[n])||angular.isArray(e[n]))&&b(e,a,n,i?i:n)}}}function y(e){var a=e[C.validationGroups];angular.forEach(a,function(a){angular.forEach(a.rules,function(r,t){r[C.validationGroup]=a.name,e[t]=r})})}function b(e,a,r,t){if(e[r]&&!angular.isArray(e[r])){var n=e[r].rules||{};n.hasOwnProperty(C.validationGroups)&&y(n);for(var i in n)i!=C.validationGroups&&(n[i].dependencyRule=t);h(e[r],a,t)}else if(angular.isArray(e[r])){var s=t?t:r;F(e,s),angular.forEach(e[r],function(e,r){h(e,a,s+"["+r+"]")})}}function F(e,a){var r=a;if(angular.isUndefined(r))r=V.propertyNameBinding,D[V.propertyNameBinding]=e;else{var t=r.replace(/^\[(\d)+\]/,"$1").replace(/\[(\d)+\]/,".$1").split("."),n=V.currentModel;r=t[t.length-1];for(var i in t){if(!n)return;n=n[t[i]]}D[r]&&(r+=Object.keys(D).length),D[r]=n}D.$watch(r+".length",function(t,n){if(void 0!=t&&void 0!=n&&t!=n){var i,s=D[r],l=Object.keys(V.validatableProperties);angular.forEach(l,function(e){e&&(a&&0===e.lastIndexOf(a,0)&&e!=a||void 0==a)&&delete V.validatableProperties[e]});for(var u=0;u<s.length;u++){i={};var o=void 0==a?"["+u+"]":a+"["+u+"]";h(s[u],i,o),V.add(e,i)}}})}function $(){V.errors={},V.validatableProperties={},V.propertyNameBinding=""}var M,D=r.$new(),E={},C={validationGroups:"validationGroups",validationGroup:"validationGroup"},V={errors:E,propertyNameBinding:"",validatableProperties:{},hideMessage:s,showMessage:l,apply:g,validate:o,validateGroup:d,isValid:u,enable:f,disable:c,remove:p,add:m,config:e.config,eachValidatable:i,getValidation:function(e,a){if(a){if(V.validatableProperties[e])return a(V.validatableProperties[e]),null;var r=D.$new(),t=r.$on("update_validation",function(){for(var r in V.validatableProperties)if(r.indexOf(e)>-1){var n=V.validatableProperties[r];if(angular.isUndefined(n))throw Error("Impossible trouver la validation pour "+r);t(),a(n);break}});return null}return V.validatableProperties[e]}};return V}]},s=[function(){var e={summaries:[]};return e}];angular.module("af-validation-core",[]).provider("s.validation",i).service("s.summary-error",s)}()}(),r("angular/angular-validation-core",function(){}),function(){var e=angular.module("af-validation-elements",["af-validation-core","af-validation-templates"]);e.directive("afErrorPlaceholder",[function(){return{priority:0,restrict:"E",replace:!0,templateUrl:"templates/validation/error-placeholder.html"}}]),e.directive("afValidationState",[function(){return{priority:0,restrict:"E",replace:!0,templateUrl:"templates/validation/validation-state.html"}}]),e.directive("afValidate",["$timeout","$compile","s.validation","s.summary-error",function(e,a,r,t){return{priority:0,restrict:"A",require:["ngModel","afValidate"],scope:!1,controller:["$scope",function(a){var r=a.$new(!0);this.scope=r,r.validateProperty=void 0,r.summaryItem=void 0,r.$on("$destroy",function(){delete t.summaries[r.summaryItem.index],angular.isDefined(r.validateProperty)&&r.validateProperty.disable()}),r.$watch("validateProperty",function(e){void 0!==angular.isUndefined(e)&&angular.forEach(e,function(e){if(e){var a=e;angular.isObject(e)&&angular.forEach(e,function(e,r){a=r}),r.$watch("validateProperty['"+a+"'].isEnabled",function(e){e===!1&&r.validateProperty.validate()})}})}),this.triggerValidate=function(){r.validateProperty.showMessage=!0,e(function(){r.validateProperty.validate()},0)}}],link:function(n,i,s,l){function u(){m.validateProperty.validate()}function o(){m.validateProperty.showMessage||(m.validateProperty.showMessage=!0),e(function(){u()})}function d(e){return angular.isUndefined(e)?!1:""===e?!0:/^\s*true\s*$/.test(e)}function f(e,a,r){if(angular.isUndefined(e))throw Error("Aucune validation pour le binding : "+a);e.ctrl=function(){return l[0]},m.validateProperty=e;var t=d(s.afValidateNoPlaceholder);if(!t){var n=d(s.afValidateNoErrorPlaceholder);!n&&g();var i=d(s.afValidateNoStatePlaceholder);!i&&v()}e.enable(),r()}function c(e){var a,t;if(""!==s.afValidate)a=s.afValidate;else if(s.ngModel.lastIndexOf("]")===s.ngModel.length-1&&n.$eval(s.ngModel.replace(/\[([^\[]*)$/,".rules[$1")))a=n.$eval(s.ngModel.replace(/\[([^\[]*)$/,".rules[$1")).property;else{if(!n.$eval(s.ngModel.replace(/\.([^\.]*)$/,".rules.$1")))return void console.log("pas de validation : "+s.ngModel);a=n.$eval(s.ngModel.replace(/\.([^\.]*)$/,".rules.$1")).property
}t=n.$eval(a)||a,r.getValidation(t,function(a){f(a,t,e)})}function g(){var e;if(angular.isDefined(s.afValidateErrorPlaceholderId)){var t=document.getElementById(s.afValidateErrorPlaceholderId);if(!t){var n;if(i[0].hasAttribute("af-validate-error-placeholder-id")?n=i[0].attributes["af-validate-error-placeholder-id"].value:i[0].hasAttribute("data-af-validate-error-placeholder-id")&&(n=i[0].attributes["data-af-validate-error-placeholder-id"].value),s.afValidateErrorPlaceholderId!==n)for(var l=angular.element(i).parent();!t&&l[0];)t=l[0].querySelector("[id="+n.replace(/{/g,"\\{").replace(/}/g,"\\}")+"]"),l=l.parent()}return e=angular.element(t),e.attr("ng-hide","validateProperty.showMessage === false || validateProperty.ctrl().$valid"),e.attr("ng-bind","validateProperty.error.message"),e.addClass(r.config.placeholderClass.error),void a(e)(m)}var u=a(r.config.errorTemplate())(m);if(angular.isDefined(s.afValidateErrorAfterId)){var o=angular.element(document.getElementById(s.afValidateErrorAfterId));o.after(u)}else i.after(u)}function v(){var e;if(angular.isDefined(s.afValidateStatePlaceholderId)){var t=document.getElementById(s.afValidateStatePlaceholderId);if(!t){var n;if(i[0].hasAttribute("af-validate-state-placeholder-id")?n=i[0].attributes["af-validate-state-placeholder-id"].value:i[0].hasAttribute("data-af-validate-state-placeholder-id")&&(n=i[0].attributes["data-af-validate-state-placeholder-id"].value),s.afValidateErrorPlaceholderId!==n)for(var l=angular.element(i).parent();!t&&l[0];)t=l[0].querySelector("[id="+n.replace(/{/g,"\\{").replace(/}/g,"\\}")+"]"),l=l.parent()}return e=angular.element(t),e.attr("ng-show","validateProperty.showMessage && (validateProperty.ctrl().$invalid || validateProperty.validating  || validateProperty.ctrl().$valid)"),e.addClass(r.config.placeholderClass.state),void a(e)(m)}var u=a(r.config.stateTemplate())(m);if(angular.isDefined(s.afValidateStateAfterId)){var o=angular.element(document.getElementById(s.afValidateStateAfterId));o.after(u)}else i.after(u)}function p(){var e=angular.element(document.getElementById(s.afValidateDecorateElementId));return e[0]||(e=angular.element(document.getElementById(n.$eval(s.afValidateDecorateElementId)))),void 0===e[0]?i:e}var m=l[1].scope;m.summaryItem={element:i,index:m.$id,name:"",labelFor:function(){var e=document.querySelectorAll('[for="'+this.name+'"]')[0];return e?e.textContent.replace("*",""):""}};var h=s.name;h&&(m.summaryItem.name=h.replace("{{$index}}",m.$index)),c(function(){var a,n;m.$watch("validateProperty.isRequired",function(e){if(angular.isUndefined(a)){if(a=document.querySelectorAll('[for="'+m.summaryItem.name+'"]')[0],angular.isUndefined(a))return;a=angular.element(a)}var r='<span class="required">*</span>';a[0].innerHTML.indexOf(r)>=0&&(n=angular.element(a[0].children[0])),angular.isUndefined(n)&&(n=angular.element(r),a.append(n)),n.addClass("hide"),e&&n.removeClass("hide")}),m.$watch("validateProperty.showMessage",function(e){(m.validateProperty.validating!==!0||"no_trigger"!==r.config.validOn)&&(e===!1?(delete t.summaries[m.summaryItem.index],p().removeClass(r.config.errorClass),p().removeClass(r.config.successClass)):m.validateProperty.ctrl().$valid===!1?(t.summaries[m.summaryItem.index]=m.summaryItem,p().addClass(r.config.errorClass),p().removeClass(r.config.successClass)):m.validateProperty.ctrl().$valid===!0&&(delete t.summaries[m.summaryItem.index],p().removeClass(r.config.errorClass),p().addClass(r.config.successClass)))}),m.$watch("validateProperty.ctrl().$valid",function(e){m.validateProperty.showMessage===!0?e===!1?(m.summaryItem.group=m.validateProperty.error.group,t.summaries[m.summaryItem.index]=m.summaryItem,p().addClass(r.config.errorClass),p().removeClass(r.config.successClass)):(delete t.summaries[m.summaryItem.index],p().addClass(r.config.successClass),p().removeClass(r.config.errorClass)):(p().removeClass(r.config.successClass),p().removeClass(r.config.errorClass))}),m.$watch("validateProperty.validating",function(e,a){e?(p().removeClass(r.config.successClass),p().removeClass(r.config.errorClass),p().addClass(r.config.validatingClass)):e!==a&&(p().addClass(m.validateProperty.error.hasError?r.config.errorClass:r.config.successClass),p().removeClass(r.config.validatingClass))}),angular.isDefined(s.ngDisabled)&&m.$watch(s.ngDisabled,function(a){e(function(){return 0==a?void m.validateProperty.enable():void(1==a&&m.validateProperty.disable())},!1)}),"no_trigger"!=r.config.validOn?(("lostFocus"===r.config.validOn&&void 0===s.afValidateOn||"lostFocus"===s.afValidateOn)&&"hidden"!==s.type?"checkbox"===s.type||"radio"===s.type|"button"===s.type?i.bind("click touchend",function(){o()}):i.bind("blur",function(){o()}):void 0!==s.afValidateOn?i.bind(s.afValidateOn,function(){o()}):m.$watch(s.ngModel,function(){o()},!0),angular.forEach(m.validateProperty.dependencyProperties,function(e){var a=s.ngModel.split(".");e.split(".").length>1?a=e:a.length>1?(a.length=a.length-1,a=a.join(".")+"."+e):a=e,m.$watch(a,function(){u()},!0)})):m.$watch(s.ngModel,function(){m.validateProperty.showMessage=!1},!0)})}}}]),e.directive("afSummaryErrors",["$location","$anchorScroll","s.summary-error",function(e,a,r){function t(e,a,r){for(var t,n=0;n<e.length;){if(t=r(e[n]),a===t||a!==a&&t!==t)return!0;n++}return!1}return{restrict:"E",replace:!0,templateUrl:"templates/validation/errors-summary.html",scope:{groupName:"@"},link:function(n){n.summaries=[],n.showSummary=function(){return n.summaries.length=0,angular.forEach(r.summaries,function(e){if(e.group===n.groupName){var a=t(n.summaries,e.labelFor(),function(e){return e.labelFor()});a||n.summaries.push(e)}}),n.summaries.length},n.setFocus=function(r){r.element[0].focus(),e.hash(r.name),a()}}}}])}(),r("angular/angular-validation-elements",function(){}),function(){angular.module("templates/validation/error-placeholder.html",[]).run(["$templateCache",function(e){e.put("templates/validation/error-placeholder.html",'<span ng-hide="validateProperty.showMessage === false || validateProperty.ctrl().$valid">{{ validateProperty.error.message }}</span>')}]),angular.module("templates/validation/validation-state.html",[]).run(["$templateCache",function(e){e.put("templates/validation/validation-state.html",'<i ng-show="validateProperty.showMessage && (validateProperty.ctrl().$invalid || validateProperty.validating  || validateProperty.ctrl().$valid)"></i>')}]),angular.module("templates/validation/errors-summary.html",[]).run(["$templateCache",function(e){e.put("templates/validation/errors-summary.html",'<div ng-show="showSummary()" class="alert alert-error error_form"><i class="icon-axa axa-cross"></i><strong> Les champs suivants contiennent une erreur :</strong><ul><li ng-repeat="summary in summaries track by $index"><a href="javascript:void(0)" ng-click="setFocus(summary)">{{ summary.labelFor() }}</a></li></ul></div>')}]),angular.module("af-validation-templates",["templates/validation/error-placeholder.html","templates/validation/validation-state.html","templates/validation/errors-summary.html"])}(),r("angular/angular-validation-templates",function(){}),e.config({urlArgs:"v=1.0",paths:{text:"axa/amd/text"}}),r("angular-validation",[],function(){var e=window.angular;if(!e)throw"Angular est un prérequis au chargement de cette api";a("angular/angular-validation-core"),a("angular/angular-validation-templates"),a("angular/angular-validation-elements"),e.module("afValidation",["af-validation-elements"])}),r("angular/angular-validation",function(){}),a(["angular-validation"]),a("angular-validation")});